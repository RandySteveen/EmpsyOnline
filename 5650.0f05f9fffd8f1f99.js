"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5650],{5650:(S,d,c)=>{c.r(d),c.d(d,{SettingsPageModule:()=>P});var p=c(177),r=c(4341),o=c(9364),m=c(8986),u=c(467),f=c(8866),C=c(5312),t=c(4438),b=c(1626);let _=(()=>{var i;class l{constructor(e,n,a,s){this.http=e,this.modalController=n,this.fb=a,this.toastController=s,this.NotificationForm=this.fb.group({id_boss:"",title_note:new r.MJ("",r.k0.required),content_note:new r.MJ("",r.k0.required)})}cerrarModal(){this.modalController.dismiss()}Submit(){var e=this;return(0,u.A)(function*(){try{const n=yield e.http.post(`${C.c.EmpsyNotification}/register`,e.NotificationForm.value).toPromise();n&&200===n.code?((yield e.toastController.create({message:"Notificaci\xf3n creada con \xe9xito..",duration:2e3,position:"top",color:"success"})).present(),setTimeout(()=>{location.reload()},2500)):console.error("La creaci\xf3n de la notificaci\xf3n no fue exitosa.")}catch(n){console.error("Error al crear la notificaci\xf3n:",n)}})()}ngOnInit(){const e=localStorage.getItem("Auth");if(e){var n;const a=(0,f.s)(e);this.id_boss=a.id_boss,null===(n=this.NotificationForm.get("id_boss"))||void 0===n||n.setValue(this.id_boss)}}}return(i=l).\u0275fac=function(e){return new(e||i)(t.rXU(b.Qq),t.rXU(o.W3),t.rXU(r.ok),t.rXU(o.K_))},i.\u0275cmp=t.VBU({type:i,selectors:[["app-agg-notification"]],decls:26,vars:2,consts:[["color","dark"],["align","center"],["slot","end"],[3,"click"],["slot","icon-only","name","close","color","danger"],["Scroll-Y","true",3,"translate"],[3,"formGroup"],["size","12"],["position","floating"],["placeholder","Titulo de la Notificacion","type","text","formControlName","title_note"],["placeholder","Contenido de la Notificacion","formControlName","content_note",1,"custom-textarea"],["expand","block","color","tertiary",3,"click"]],template:function(e,n){1&e&&(t.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title",1),t.EFF(3,"Registrar Notificacion"),t.k0s(),t.j41(4,"ion-buttons",2)(5,"ion-button",3),t.bIt("click",function(){return n.cerrarModal()}),t.nrm(6,"ion-icon",4),t.k0s()()()(),t.j41(7,"ion-content",5)(8,"ion-grid")(9,"form",6)(10,"ion-row")(11,"ion-col",7)(12,"ion-item")(13,"ion-label",8),t.EFF(14,"Encabezado"),t.k0s(),t.nrm(15,"ion-input",9),t.k0s()()(),t.j41(16,"ion-row")(17,"ion-col",7)(18,"ion-item")(19,"ion-label",8),t.EFF(20,"Contenido de la notificaci\xf3n"),t.k0s(),t.nrm(21,"ion-textarea",10),t.k0s()()(),t.j41(22,"ion-row")(23,"ion-col",7)(24,"ion-button",11),t.bIt("click",function(){return n.Submit()}),t.EFF(25,"Agregar notificaci\xf3n"),t.k0s()()()()()()),2&e&&(t.R7$(7),t.Y8G("translate",!0),t.R7$(2),t.Y8G("formGroup",n.NotificationForm))},dependencies:[r.qT,r.BC,r.cb,o.Jm,o.QW,o.hU,o.W9,o.lO,o.eU,o.iq,o.$w,o.uz,o.he,o.ln,o.nc,o.BC,o.ai,o.Gw,r.j4,r.JD],styles:['@charset "UTF-8";.custom-textarea[_ngcontent-%COMP%]{min-height:400px;max-height:700px;width:100%;resize:vertical}.custom-button[_ngcontent-%COMP%]{margin-top:20px}ion-title[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:900;text-align:center;line-height:1;margin:0}']}),l})();function y(i,l){if(1&i){const g=t.RV6();t.j41(0,"div",3)(1,"ion-item",4),t.nrm(2,"ion-input",11),t.k0s(),t.j41(3,"ion-button",12),t.bIt("click",function(){t.eBV(g);const n=t.XpG();return t.Njj(n.AddNotification())}),t.nrm(4,"ion-icon",7),t.EFF(5,"Agregar"),t.k0s()()}}const k=[{path:"",component:(()=>{var i;class l{constructor(e,n,a){this.modalController=e,this.alertController=n,this.toastController=a,this.inputValue="",this.inputValueCop="",this.inputValueDLL="",this.userType=null;const s=localStorage.getItem("tasaBS"),h=localStorage.getItem("tasaCop");null!==s&&null!==h&&(this.inputValue=s.replace(",","."),this.inputValueCop=h.replace(",","."))}NotificationADD(){var e=this;return(0,u.A)(function*(){return yield(yield e.modalController.create({component:_,cssClass:"AddClient-Register",backdropDismiss:!1})).present()})()}AddNotification(){var e=this;return(0,u.A)(function*(){var a;yield(yield e.alertController.create({header:"Agregar",message:"Agregar Notificacion",buttons:[{text:"Cancelar",role:"Cancel",handler:()=>{console.log("El usuario presiono cancelar")}},{text:"Aceptar",handler:(a=(0,u.A)(function*(){e.NotificationADD()}),function(){return a.apply(this,arguments)})}]})).present()})()}guardarTasa(){localStorage.setItem("tasaBS",this.inputValue),this.presentToast("Tasa Agregada Con Exito")}guardarTasaCop(){localStorage.setItem("tasaCop",this.inputValueCop),this.presentToast("Tasa Agregada con Exito")}presentToast(e){var n=this;return(0,u.A)(function*(){(yield n.toastController.create({message:e,duration:1e3,position:"top",color:"success"})).present()})()}ngOnInit(){this.analizarTipoUsuario()}analizarTipoUsuario(){const e=localStorage.getItem("Auth");if(e){const n=(0,f.s)(e);for(const a in n)if(n.hasOwnProperty(a)){if("id_seller"===a){this.userType="VED";break}if("id_boss"===a){this.userType="ADM";break}}}}}return(i=l).\u0275fac=function(e){return new(e||i)(t.rXU(o.W3),t.rXU(o.hG),t.rXU(o.K_))},i.\u0275cmp=t.VBU({type:i,selectors:[["app-settings"]],decls:27,vars:5,consts:[[3,"translucent"],["Scroll-Y","true",3,"fullscreen"],[1,"label-title"],[2,"display","flex","align-items","center"],[2,"flex","1"],["placeholder","Tasa en Bolivares ","type","tel","inputmode","numeric",1,"custom-search-input",3,"ngModelChange","ionChange","ngModel"],["color","tertiary",3,"click"],["name","add-outline"],["placeholder","Tasa en Pesos Colombianos","type","tel","inputmode","numeric",1,"custom-search-input",3,"ngModelChange","ionChange","ngModel"],["style","display: flex; align-items: center;",4,"ngIf"],["color","danger","expand","block"],["placeholder","Agregar Notificacion","readonly","true",1,"custom-search-input"],["color","success",3,"click"]],template:function(e,n){1&e&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t.EFF(3,"admincontrol"),t.k0s()()(),t.j41(4,"ion-content",1),t.nrm(5,"br"),t.j41(6,"h1",2),t.EFF(7,"Configuraci\xf3n "),t.k0s(),t.nrm(8,"br"),t.j41(9,"div",3)(10,"ion-item",4)(11,"ion-input",5),t.mxI("ngModelChange",function(s){return t.DH7(n.inputValue,s)||(n.inputValue=s),s}),t.bIt("ionChange",function(){return n.guardarTasa()}),t.k0s()(),t.j41(12,"ion-button",6),t.bIt("click",function(){return n.guardarTasa()}),t.nrm(13,"ion-icon",7),t.EFF(14,"Agregar "),t.k0s()(),t.nrm(15,"br"),t.j41(16,"div",3)(17,"ion-item",4)(18,"ion-input",8),t.mxI("ngModelChange",function(s){return t.DH7(n.inputValueCop,s)||(n.inputValueCop=s),s}),t.bIt("ionChange",function(){return n.guardarTasaCop()}),t.k0s()(),t.j41(19,"ion-button",6),t.bIt("click",function(){return n.guardarTasa()}),t.nrm(20,"ion-icon",7),t.EFF(21,"Agregar "),t.k0s()(),t.nrm(22,"br"),t.DNE(23,y,6,0,"div",9),t.nrm(24,"br"),t.j41(25,"ion-button",10),t.EFF(26,"Salir"),t.k0s()()),2&e&&(t.Y8G("translucent",!0),t.R7$(4),t.Y8G("fullscreen",!0),t.R7$(7),t.R50("ngModel",n.inputValue),t.R7$(7),t.R50("ngModel",n.inputValueCop),t.R7$(5),t.Y8G("ngIf","VED"!==n.userType))},dependencies:[p.bT,r.BC,r.vS,o.Jm,o.W9,o.eU,o.iq,o.$w,o.uz,o.BC,o.ai,o.Gw],styles:['@charset "UTF-8";.tabla[_ngcontent-%COMP%]{width:100%}.encabezado[_ngcontent-%COMP%]{background-color:#f0f0f0;font-weight:700;padding:10px;border-bottom:1px solid #ccc;text-align:center}.datos[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #ccc;text-align:center;justify-content:center;align-items:center}.detalle[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:10px;border-bottom:1px solid #ccc;justify-content:center;text-align:center;align-items:center}.label-title[_ngcontent-%COMP%]{text-align:center;font-size:25px;color:#000;font-family:Poppins,sans-serif;font-weight:900;margin-top:10px}ion-icon[_ngcontent-%COMP%]{margin-right:10px;color:#1d1db6}.paginador[_ngcontent-%COMP%]{justify-content:center;align-items:center;text-align:center}ion-icon[_ngcontent-%COMP%]{margin-right:5px;color:#fff;font-size:1.2em}']}),l})()}];let T=(()=>{var i;class l{}return(i=l).\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.$C({type:i}),i.\u0275inj=t.G2t({imports:[m.iI.forChild(k),m.iI]}),l})(),P=(()=>{var i;class l{}return(i=l).\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.$C({type:i}),i.\u0275inj=t.G2t({imports:[p.MD,r.YN,o.bv,T,r.X1]}),l})()}}]);